!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],n):n(t.Recompose=t.Recompose||{},t.React)}(this,function(t,n){"use strict";function e(t,n){return t===n?0!==t||0!==n||1/t==1/n:t!==t&&n!==n}function r(t,n){if(e(t,n))return!0;if("object"!=typeof t||null===t||"object"!=typeof n||null===n)return!1;var r=Object.keys(t);if(r.length!==Object.keys(n).length)return!1;for(var o=0;r.length>o;o++)if(!P.call(n,r[o])||!e(t[r[o]],n[r[o]]))return!1;return!0}function o(){for(var t=arguments.length,n=Array(t),e=0;t>e;e++)n[e]=arguments[e];return 0===n.length?function(t){return t}:1===n.length?n[0]:n.reduce(function(t,n){return function(){return t(n.apply(void 0,arguments))}})}var u="default"in n?n.default:n,i=function(t,n){return t},c=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},p=Object.assign||function(t){for(var n=1;arguments.length>n;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},a=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)},s=function(t,n){var e={};for(var r in t)0>n.indexOf(r)&&Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},f=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n},l=function(t,n,e,r,o){if(!t&&n)return e(o?p({},r,{children:o}):r);var i=e;return o?u.createElement(i,r,o):u.createElement(i,r)},h=function(t){return!(!t||!t.prototype||"object"!=typeof t.prototype.isReactComponent)},y=function(t){return!("function"!=typeof t||h(t)||t.defaultProps||t.contextTypes)},v=function(t){var n=y(t);return function(e,r){return l(!1,n,t,e,r)}},d=function(t){return function(n){var e=v(n);return function(n){return e(t(n))}}},m=i(d,"mapProps"),b=function(t){return m(function(n){return p({},n,"function"==typeof t?t(n):t)})},g=i(b,"withProps"),O=function(t,n){for(var e={},r=0;n.length>r;r++){var o=n[r];t.hasOwnProperty(o)&&(e[o]=t[o])}return e},P=Object.prototype.hasOwnProperty,w=r,E=function(t,e){return function(r){var o=v(r),u="function"==typeof t?t:function(n,e){return!w(O(n,t),O(e,t))};return function(t){function n(){var r,o,u;c(this,n);for(var i=arguments.length,p=Array(i),a=0;i>a;a++)p[a]=arguments[a];return r=o=f(this,t.call.apply(t,[this].concat(p))),o.computedProps=e(o.props),u=r,f(o,u)}return a(n,t),n.prototype.componentWillReceiveProps=function(t){u(this.props,t)&&(this.computedProps=e(t))},n.prototype.render=function(){return o(p({},this.props,this.computedProps))},n}(n.Component)}},S=i(E,"withPropsOnChange"),C=function(t,n){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=n(t[r],r));return e},x=function(t){return function(e){var r,o,u=v(e);return r=function(t){function n(){var e,r,u;c(this,n);for(var i=arguments.length,p=Array(i),a=0;i>a;a++)p[a]=arguments[a];return e=r=f(this,t.call.apply(t,[this].concat(p))),o.call(r),u=e,f(r,u)}return a(n,t),n.prototype.componentWillReceiveProps=function(){this.cachedHandlers={}},n.prototype.render=function(){return u(p({},this.props,this.handlers))},n}(n.Component),o=function(){var n=this;this.cachedHandlers={},this.handlers=C("function"==typeof t?t(this.props):t,function(t,e){return function(){var r=n.cachedHandlers[e];if(r)return r.apply(void 0,arguments);var o=t(n.props);return n.cachedHandlers[e]=o,o.apply(void 0,arguments)}})},r}},j=i(x,"withHandlers"),T=function(t){return function(n){var e=v(n),r=function(t){return e(t)};return r.defaultProps=t,r}},N=i(T,"defaultProps"),R=function(t,n){for(var e=s(t,[]),r=0;n.length>r;r++){var o=n[r];e.hasOwnProperty(o)&&delete e[o]}return e},V=function(t,n){return m(function(e){var r;return p({},R(e,[t]),(r={},r[n]=e[t],r))})},A=i(V,"renameProp"),F=Object.keys,U=function(t,n){return F(t).reduce(function(e,r){var o=t[r];return e[n(o,r)]=o,e},{})},_=function(t){return m(function(n){return p({},R(n,F(t)),U(O(n,F(t)),function(n,e){return t[e]}))})},H=i(_,"renameProps"),W=function(t){return function(n){var e=v(n);return function(n){return e(p({},n,n[t]))}}},k=i(W,"flattenProp"),D=function(t,e,r){return function(o){var u=v(o);return function(n){function o(){var t,e,u;c(this,o);for(var i=arguments.length,p=Array(i),a=0;i>a;a++)p[a]=arguments[a];return t=e=f(this,n.call.apply(n,[this].concat(p))),e.state={stateValue:"function"==typeof r?r(e.props):r},e.updateStateValue=function(t,n){return e.setState(function(n){var e=n.stateValue;return{stateValue:"function"==typeof t?t(e):t}},n)},u=t,f(e,u)}return a(o,n),o.prototype.render=function(){var n;return u(p({},this.props,(n={},n[t]=this.state.stateValue,n[e]=this.updateStateValue,n)))},o}(n.Component)}},M=i(D,"withState"),$=function(t,e,r,o){return function(u){var i=v(u);return function(n){function u(){var t,e,o;c(this,u);for(var i=arguments.length,p=Array(i),a=0;i>a;a++)p[a]=arguments[a];return t=e=f(this,n.call.apply(n,[this].concat(p))),e.state={stateValue:e.initializeStateValue()},e.dispatch=function(t){return e.setState(function(n){return{stateValue:r(n.stateValue,t)}})},o=t,f(e,o)}return a(u,n),u.prototype.initializeStateValue=function(){return void 0!==o?"function"==typeof o?o(this.props):o:r(void 0,{type:"@@recompose/INIT"})},u.prototype.render=function(){var n;return i(p({},this.props,(n={},n[t]=this.state.stateValue,n[e]=this.dispatch,n)))},u}(n.Component)}},q=i($,"withReducer"),z=function(t){return t},I=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:z;return function(r){var o=void 0,u=void 0;return function(i){return t(i)?(o=o||v(n(r)))(i):(u=u||v(e(r)))(i)}}},K=i(I,"branch"),B=function(t){return function(n){var e=v(t);return function(t){return e(t)}}},G=i(B,"renderComponent",!1),J=function(t){function n(){return c(this,n),f(this,t.apply(this,arguments))}return a(n,t),n.prototype.render=function(){return null},n}(n.Component);J.displayName="Nothing";var L,Q=function(t){return J},X=i(Q,"renderNothing",!1,!0),Y=function(t){return function(e){var r=v(e);return function(n){function e(){return c(this,e),f(this,n.apply(this,arguments))}return a(e,n),e.prototype.shouldComponentUpdate=function(n){return t(this.props,n)},e.prototype.render=function(){return r(this.props)},e}(n.Component)}},Z=i(Y,"shouldUpdate"),tt=Z(function(t,n){return!w(t,n)}),nt=i(tt,"pure",!0,!0),et=function(t){return Z(function(n,e){return!w(O(e,t),O(n,t))})},rt=i(et,"onlyUpdateForKeys"),ot=function(t){var n=t.propTypes,e=Object.keys(n||{});return rt(e)(t)},ut=i(ot,"onlyUpdateForPropTypes",!0,!0),it=function(t,e){return function(r){var o=v(r),u=function(t){function n(){var r,o,u;c(this,n);for(var i=arguments.length,p=Array(i),a=0;i>a;a++)p[a]=arguments[a];return r=o=f(this,t.call.apply(t,[this].concat(p))),o.getChildContext=function(){return e(o.props)},u=r,f(o,u)}return a(n,t),n.prototype.render=function(){return o(this.props)},n}(n.Component);return u.childContextTypes=t,u}},ct=i(it,"withContext"),pt=function(t){return function(n){var e=v(n),r=function(t,n){return e(p({},t,n))};return r.contextTypes=t,r}},at=i(pt,"getContext"),st=function(t){return function(e){var r=v(e);return function(n){function e(){c(this,e);for(var r=arguments.length,o=Array(r),u=0;r>u;u++)o[u]=arguments[u];var i=f(this,n.call.apply(n,[this].concat(o)));return Object.assign(i,t),i}return a(e,n),e.prototype.render=function(){return r(p({},this.props,this.state))},e}(n.Component)}},ft=i(st,"lifecycle"),lt=function(t){if("string"==typeof t)return t;if(t)return t.displayName||t.name||"Component"},ht=function(t){if(h(t))return t;var e=function(n){function e(){return c(this,e),f(this,n.apply(this,arguments))}return a(e,n),e.prototype.render=function(){return"string"==typeof t?u.createElement(t,this.props):t(this.props,this.context)},e}(n.Component);return e.displayName=lt(t),e.propTypes=t.propTypes,e.contextTypes=t.contextTypes,e.defaultProps=t.defaultProps,e},yt=function(t,n){return function(e){return e[t]=n,e}},vt=i(yt,"setStatic",!1),dt=function(t){return vt("propTypes",t)},mt=i(dt,"setPropTypes",!1),bt=function(t){return vt("displayName",t)},gt=i(bt,"setDisplayName",!1),Ot=function(t,n){return n+"("+lt(t)+")"},Pt=function(t,n,e){var r=y(t),o=n&&n.hasOwnProperty("key");return l(o,r,t,n,e)},wt=function(t){return function(n){function e(){return c(this,e),f(this,n.apply(this,arguments))}return a(e,n),e.prototype.componentWillMount=function(){t(this.props)},e.prototype.componentWillReceiveProps=function(n){t(n)},e.prototype.render=function(){return null},e}(n.Component)},Et=function(t){var n=function(n){return Pt(n[t],R(n,[t]))};return n.displayName="componentFromProp("+t+")",n},St=function(){for(var t=arguments.length,n=Array(t),e=0;t>e;e++)n[e]=arguments[e];var r=n.map(v);return function(t){var n=s(t,[]),e=t.children;return r.reduceRight(function(t,e){return e(n,t)},e)}},Ct={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},xt={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},jt="function"==typeof Object.getOwnPropertySymbols,Tt=function(t,n,e){if("string"!=typeof n){var r=Object.getOwnPropertyNames(n);jt&&(r=r.concat(Object.getOwnPropertySymbols(n)));for(var o=0;r.length>o;++o)if(!(Ct[r[o]]||xt[r[o]]||e&&e[r[o]]))try{t[r[o]]=n[r[o]]}catch(t){}}return t},Nt=function(t){return function(n){var e=t(n);return Tt(e,n),e}},Rt=function(t,n){return n={exports:{}},t(n,n.exports),n.exports}(function(t,n){Object.defineProperty(n,"__esModule",{value:!0});n.createChangeEmitter=function(){function t(){o===r&&(o=r.slice())}function n(n){if("function"!=typeof n)throw Error("Expected listener to be a function.");var e=!0;return t(),o.push(n),function(){if(e){e=!1,t();var r=o.indexOf(n);o.splice(r,1)}}}function e(){r=o;for(var t=r,n=0;t.length>n;n++)t[n].apply(t,arguments)}var r=[],o=r;return{listen:n,emit:e}}}),Vt=Rt.createChangeEmitter;L="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")();var At=function(t){var n,e=t.Symbol;return"function"==typeof e?e.observable?n=e.observable:(n=e("observable"),e.observable=n):n="@@observable",n}(L),Ft={fromESObservable:null,toESObservable:null},Ut=function(t){Ft=t},_t={fromESObservable:function(t){return"function"==typeof Ft.fromESObservable?Ft.fromESObservable(t):t},toESObservable:function(t){return"function"==typeof Ft.toESObservable?Ft.toESObservable(t):t}},Ht=function(t){return function(e){return function(n){function r(){var o,u,i,p;c(this,r);for(var a=arguments.length,s=Array(a),l=0;a>l;l++)s[l]=arguments[l];return u=i=f(this,n.call.apply(n,[this].concat(s))),i.state={vdom:null},i.propsEmitter=Vt(),i.props$=t.fromESObservable((o={subscribe:function(t){return{unsubscribe:i.propsEmitter.listen(function(n){n?t.next(n):t.complete()})}}},o[At]=function(){return this},o)),i.vdom$=t.toESObservable(e(i.props$)),p=u,f(i,p)}return a(r,n),r.prototype.componentWillMount=function(){var t=this;this.subscription=this.vdom$.subscribe({next:function(n){t.setState({vdom:n})}}),this.propsEmitter.emit(this.props)},r.prototype.componentWillReceiveProps=function(t){this.propsEmitter.emit(t)},r.prototype.shouldComponentUpdate=function(t,n){return n.vdom!==this.state.vdom},r.prototype.componentWillUnmount=function(){this.propsEmitter.emit(),this.subscription.unsubscribe()},r.prototype.render=function(){return this.state.vdom},r}(n.Component)}},Wt=Ht(_t),kt=function(t){return t},Dt=Ht({fromESObservable:kt,toESObservable:kt}),Mt=function(t){return function(n){return function(e){var r=v(e),o=t.fromESObservable,u=t.toESObservable;return Dt(function(t){var e;return e={subscribe:function(e){var i=u(n(o(t))).subscribe({next:function(t){return e.next(r(t))}});return{unsubscribe:function(){return i.unsubscribe()}}}},e[At]=function(){return this},e})}}}(_t),$t=i(Mt,"mapPropsStream"),qt=function(t){return function(){var n,e=Vt(),r=t.fromESObservable((n={subscribe:function(t){return{unsubscribe:e.listen(function(n){return t.next(n)})}}},n[At]=function(){return this},n));return{handler:e.emit,stream:r}}}(_t);t.mapProps=m,t.withProps=g,t.withPropsOnChange=S,t.withHandlers=j,t.defaultProps=N,t.renameProp=A,t.renameProps=H,t.flattenProp=k,t.withState=M,t.withReducer=q,t.branch=K,t.renderComponent=G,t.renderNothing=X,t.shouldUpdate=Z,t.pure=nt,t.onlyUpdateForKeys=rt,t.onlyUpdateForPropTypes=ut,t.withContext=ct,t.getContext=at,t.lifecycle=ft,t.toClass=ht,t.setStatic=vt,t.setPropTypes=mt,t.setDisplayName=gt,t.compose=o,t.getDisplayName=lt,t.wrapDisplayName=Ot,t.shallowEqual=w,t.isClassComponent=h,t.createEagerElement=Pt,t.createEagerFactory=v,t.createSink=wt,t.componentFromProp=Et,t.nest=St,t.hoistStatics=Nt,t.componentFromStream=Wt,t.mapPropsStream=$t,t.createEventHandler=qt,t.setObservableConfig=Ut,Object.defineProperty(t,"__esModule",{value:!0})});
